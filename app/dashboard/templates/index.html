{% extends "base.html" %}

{% block content %}
<div class="container">
    <!-- Stats Cards -->
    <div class="stats-grid" id="statsCards">
        <div class="stat-card">
            <div class="stat-value" id="statSections">-</div>
            <div class="stat-label">Store Sections</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="statProducts">-</div>
            <div class="stat-label">Products</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="statCommunities">-</div>
            <div class="stat-label">Communities</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="statRecommendations">-</div>
            <div class="stat-label">Recommendations</div>
        </div>
    </div>
    
    <!-- Tab Navigation -->
    <div class="tabs">
        <button class="tab-btn active" data-tab="graph">Movement Graph</button>
        <button class="tab-btn" data-tab="layout">Layout Heatmap</button>
        <button class="tab-btn" data-tab="recommendations">Recommendations</button>
    </div>
    
    <!-- Tab Contents -->
    <div class="tab-content">
        <!-- Graph Tab -->
        <div id="graph-tab" class="tab-pane active">
            <div class="card">
                <h2>Section Movement Graph</h2>
                <p class="subtitle">Node color = community | Edge thickness = transition frequency</p>
                <div id="graphPlot" style="width: 100%; height: 600px;"></div>
            </div>
        </div>
        
        <!-- Layout Tab -->
        <div id="layout-tab" class="tab-pane">
            <div class="card">
                <h2>Product Density Heatmap</h2>
                <p class="subtitle">Current vs. Recommended product placement</p>
                
                <div class="layout-toggle">
                    <button class="layout-btn active" data-layout="current">Current Layout</button>
                    <button class="layout-btn" data-layout="recommended">Recommended Layout</button>
                </div>
                
                <div id="layoutPlot" style="width: 100%; height: 500px;"></div>
            </div>
        </div>
        
        <!-- Recommendations Tab -->
        <div id="recommendations-tab" class="tab-pane">
            <div class="card">
                <h2>Top Recommendations</h2>
                <p class="subtitle">Product placement suggestions based on optimization</p>
                
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search products...">
                </div>
                
                <div class="table-container">
                    <table id="recommendationsTable">
                        <thead>
                            <tr>
                                <th>Product ID</th>
                                <th>Product Name</th>
                                <th>Recommended Section</th>
                                <th>Score</th>
                                <th>Rationale</th>
                            </tr>
                        </thead>
                        <tbody id="recommendationsBody">
                            <tr>
                                <td colspan="5" class="loading">Loading recommendations...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}